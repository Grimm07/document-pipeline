# Document Pipeline API Configuration
# Uses HOCON format with environment variable substitution

# Server configuration
server {
    host = "0.0.0.0"
    host = ${?SERVER_HOST}
    port = 8080
    port = ${?SERVER_PORT}
}

# PostgreSQL database configuration
database {
    jdbcUrl = "jdbc:postgresql://localhost:5432/document_pipeline"
    jdbcUrl = ${?DATABASE_URL}
    username = "pipeline"
    username = ${?DATABASE_USERNAME}
    password = "pipeline_secret"
    password = ${?DATABASE_PASSWORD}
    maxPoolSize = 10
    maxPoolSize = ${?DATABASE_MAX_POOL_SIZE}
}

# RabbitMQ configuration
rabbitmq {
    host = "localhost"
    host = ${?RABBITMQ_HOST}
    port = 5672
    port = ${?RABBITMQ_PORT}
    username = "guest"
    username = ${?RABBITMQ_USERNAME}
    password = "guest"
    password = ${?RABBITMQ_PASSWORD}
    virtualHost = "/"
    virtualHost = ${?RABBITMQ_VHOST}
}

# File storage configuration
storage {
    baseDir = "./document-storage"
    baseDir = ${?STORAGE_BASE_DIR}
}

# Logging (referenced by logback.xml)
logging {
    level = "INFO"
    level = ${?LOG_LEVEL}
}
